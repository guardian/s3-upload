@import lib.S3UploadResponse
@import com.gu.pandomainauth.model.User
@import lib.S3UploadSuccess
@import lib.S3UploadFailure
@(user: User, s3Uploads: Seq[S3UploadResponse])(implicit request: RequestHeader)

@main(user, "File Uploaded") {
    <div class="results">
        <h3>Upload Results</h3>
        @s3Uploads.map {
            case S3UploadSuccess(url, directToS3Url, fileName, msg) => {
                <p class="upload success">
                    <a href="@url">Vanity URL</a>
                </p>
                <p class="upload success">
                    <a href="@directToS3Url">Direct S3 URL - use this when imgix is down</a>
                </p>
                <p class="success">Successfully Uploaded!</p>


            }
            case S3UploadFailure(None, None, fileName, msg) => {
                <p class="upload failure">
                    @fileName
                </p>
                <p class="failure">
                   Failed To Upload
                </p>
                <p>
                    Reason:
                    <b>
                    @msg
                    </b>
                </p>

            }
        }
    </div>
}
